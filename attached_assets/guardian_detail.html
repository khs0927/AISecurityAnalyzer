<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HEART - 대상자 상세 정보</title>
  <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="" />
  <link
    rel="stylesheet"
    as="style"
    onload="this.rel='stylesheet'"
    href="https://fonts.googleapis.com/css2?display=swap&amp;family=Manrope%3Awght%40400%3B500%3B700%3B800&amp;family=Noto+Sans%3Awght%40400%3B500%3B700%3B900"
  />
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <!-- 지도 API -->
  <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&callback=initMap" async defer></script>
  <style>
    body {
      font-family: 'Manrope', 'Noto Sans', sans-serif;
      background-color: #F8FAFB;
    }
    
    .card-with-shadow {
      background: white;
      border-radius: 1rem;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.04);
    }

    .badge {
      border-radius: 0.5rem;
      padding: 0.25rem 0.5rem;
      font-size: 0.75rem;
      font-weight: 600;
    }

    .badge-blue {
      background-color: #e8eef3;
      color: #2c90e2;
    }

    .badge-yellow {
      background-color: #fff8e6;
      color: #f59e0b;
    }

    .badge-red {
      background-color: #fee2e2;
      color: #ef4444;
    }

    .badge-green {
      background-color: #dcfce7;
      color: #10b981;
    }
    
    .primary-button {
      background-color: #2c90e2;
      color: white;
      border-radius: 0.75rem;
      padding: 0.75rem 1.5rem;
      font-weight: 600;
      transition: all 0.2s;
    }

    .primary-button:hover {
      background-color: #2276c0;
    }
    
    .medical-term {
      text-decoration: underline;
      text-decoration-style: dotted;
      cursor: help;
      color: #2c90e2;
    }
    
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 50;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s, visibility 0.3s;
    }
    
    .modal.show {
      opacity: 1;
      visibility: visible;
    }
    
    .modal-content {
      background-color: white;
      border-radius: 1rem;
      padding: 1.5rem;
      width: 90%;
      max-width: 500px;
      transform: translateY(20px);
      transition: transform 0.3s;
    }
    
    .modal.show .modal-content {
      transform: translateY(0);
    }
    
    #map {
      height: 250px;
      width: 100%;
      border-radius: 0.75rem;
    }
    
    .tab-button {
      padding: 0.5rem 1rem;
      background-color: #f3f4f6;
      border-radius: 0.5rem;
      font-size: 0.875rem;
      color: #6b7280;
      font-weight: 500;
      transition: all 0.2s;
    }
    
    .tab-button.active {
      background-color: #2c90e2;
      color: white;
    }
  </style>
</head>
<body class="min-h-screen">
  <div class="container mx-auto px-4 py-6 max-w-lg">
    <!-- 상단 헤더 -->
    <div class="flex items-center mb-6">
      <a href="modern_index.html" class="mr-4">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-[#0e151b]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
        </svg>
      </a>
      <h1 class="text-xl font-bold text-[#0e151b]">대상자 상세 정보</h1>
    </div>
    
    <!-- 사용자 정보 -->
    <div class="card-with-shadow p-5 mb-4">
      <div class="flex items-center">
        <div class="w-14 h-14 rounded-full bg-red-100 flex items-center justify-center mr-4">
          <span class="text-red-500 text-base font-bold">위험</span>
        </div>
        <div class="flex-1">
          <h2 class="text-lg font-bold text-[#0e151b]" id="user-name">이서연</h2>
          <div class="flex items-center">
            <p class="text-xs text-[#507695] mr-2">48세 여성</p>
            <span class="badge badge-red">심장질환</span>
          </div>
        </div>
        <div class="text-right">
          <p class="text-2xl font-bold text-red-600" id="risk-score">72%</p>
          <p class="text-xs text-[#507695]">±5%</p>
        </div>
      </div>
    </div>
    
    <!-- 탭 메뉴 -->
    <div class="flex gap-2 mb-4 overflow-x-auto pb-2">
      <button class="tab-button active" data-tab="vitals">생체정보</button>
      <button class="tab-button" data-tab="device">기기상태</button>
      <button class="tab-button" data-tab="location">위치</button>
      <button class="tab-button" data-tab="history">기록</button>
      <button class="tab-button" data-tab="emergency">응급상황</button>
    </div>
    
    <!-- 탭 컨텐츠 영역 -->
    <div class="tab-content">
      <!-- 생체정보 탭 -->
      <div id="vitals-tab" class="tab-pane active">
        <!-- ECG 모니터링 카드 -->
        <div class="card-with-shadow p-5 mb-4">
          <div class="flex justify-between items-center mb-4">
            <h2 class="text-base font-bold text-[#0e151b]">실시간 ECG</h2>
            <span class="badge badge-red">비정상</span>
          </div>
          
          <!-- ECG 그래프 -->
          <div class="bg-[#f8fafb] rounded-xl p-3 mb-3">
            <div class="h-20 w-full relative overflow-hidden">
              <svg width="100%" height="100%" viewBox="0 0 400 100" preserveAspectRatio="none">
                <path 
                  d="M0,50 
                     L10,50 15,50 20,48 25,50 30,85 35,15 40,50 45,50 50,50 55,50 60,48 65,50 70,90 75,10 
                     L80,50 85,50 90,50 95,48 100,50 105,85 110,15 115,50 120,50 125,50 130,50 135,48 140,50 
                     L145,50 150,50 155,50 160,48 165,50 170,85 175,15 180,50 185,50 190,50 195,50 200,48 
                     L205,50 210,90 215,10 220,50 225,50 230,50 235,48 240,50 245,85 250,15 255,50 260,50 
                     L265,50 270,50 275,48 280,50 285,50 290,50 295,50 300,48 305,50 310,85 315,15 320,50 
                     L325,50 330,50 335,50 340,48 345,50 350,90 355,10 360,50 365,50 370,50 375,48 380,50 
                     L385,85 390,15 395,50 400,50"
                  fill="none" 
                  stroke="#ef4444" 
                  stroke-width="2"
                />
              </svg>
            </div>
          </div>
          
          <!-- 이상 패턴 감지 -->
          <div class="bg-red-50 p-3 rounded-xl mb-3">
            <div class="flex items-center">
              <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-red-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
              </svg>
              <p class="text-sm text-red-600 font-medium">비정상 패턴 감지: <span class="medical-term" data-term="st-elevation">ST 분절 상승</span></p>
            </div>
            <p class="text-xs text-red-500 mt-1 ml-7">잠재적 <span class="medical-term" data-term="stemi">STEMI</span> 패턴 의심</p>
          </div>
          
          <!-- 상태 지표 -->
          <div class="grid grid-cols-3 gap-3 mb-3">
            <div class="bg-[#f8fafb] p-3 rounded-xl text-center">
              <div class="text-lg font-bold text-red-600">112</div>
              <div class="text-xs text-[#507695]">심박수</div>
            </div>
            <div class="bg-[#f8fafb] p-3 rounded-xl text-center">
              <div class="text-lg font-bold text-[#0e151b]">94%</div>
              <div class="text-xs text-[#507695]">산소포화도</div>
            </div>
            <div class="bg-[#f8fafb] p-3 rounded-xl text-center">
              <div class="text-lg font-bold text-red-600">37.8°</div>
              <div class="text-xs text-[#507695]">체온</div>
            </div>
          </div>
          
          <!-- 추가 데이터 -->
          <div class="grid grid-cols-2 gap-3">
            <div class="bg-[#f8fafb] p-3 rounded-xl">
              <div class="text-xs text-[#507695] mb-1">혈압</div>
              <div class="text-sm font-bold text-red-600">156/95</div>
            </div>
            <div class="bg-[#f8fafb] p-3 rounded-xl">
              <div class="text-xs text-[#507695] mb-1"><span class="medical-term" data-term="hrv">심박 변이도</span></div>
              <div class="text-sm font-bold text-red-600">24ms</div>
            </div>
          </div>
        </div>
        
        <!-- 위험도 분석 카드 -->
        <div class="card-with-shadow p-5 mb-4">
          <div class="flex justify-between items-center mb-4">
            <h2 class="text-base font-bold text-[#0e151b]">위험도 분석</h2>
            <span class="badge badge-red">긴급</span>
          </div>
          
          <!-- 위험도 진행 상황 -->
          <div class="mb-3">
            <div class="flex justify-between text-xs text-[#507695] mb-1">
              <span>지난 4시간 변화</span>
              <span>+32%</span>
            </div>
            <div class="h-2 w-full bg-gray-100 rounded overflow-hidden">
              <div class="h-full bg-red-600 w-3/4 rounded relative">
                <div class="absolute h-full w-1/2 right-1/2 bg-yellow-500"></div>
                <div class="absolute h-full w-1/3 right-3/4 bg-green-500"></div>
              </div>
            </div>
            <div class="flex justify-between text-xs mt-1">
              <span class="text-green-600">안전 (10:00)</span>
              <span class="text-yellow-600">주의 (12:00)</span>
              <span class="text-red-600">현재 (14:00)</span>
            </div>
          </div>
          
          <!-- 위험 요인 -->
          <div class="mb-4">
            <h3 class="text-sm font-medium text-[#0e151b] mb-2">주요 위험 요인</h3>
            <ul class="space-y-2">
              <li class="flex items-center">
                <div class="w-6 h-6 rounded-full bg-red-100 flex items-center justify-center mr-2">
                  <span class="text-red-600 text-xs">1</span>
                </div>
                <span class="text-sm text-[#0e151b]"><span class="medical-term" data-term="st-elevation">ST 분절 상승</span> 감지</span>
              </li>
              <li class="flex items-center">
                <div class="w-6 h-6 rounded-full bg-red-100 flex items-center justify-center mr-2">
                  <span class="text-red-600 text-xs">2</span>
                </div>
                <span class="text-sm text-[#0e151b]">심박수 증가 (76 → 112)</span>
              </li>
              <li class="flex items-center">
                <div class="w-6 h-6 rounded-full bg-red-100 flex items-center justify-center mr-2">
                  <span class="text-red-600 text-xs">3</span>
                </div>
                <span class="text-sm text-[#0e151b]">고혈압 상태 (156/95)</span>
              </li>
            </ul>
          </div>
          
          <!-- 버튼 -->
          <div class="flex gap-3">
            <button class="flex-1 bg-red-600 text-white py-3 rounded-xl font-medium text-sm">
              전화하기
            </button>
            <button class="flex-1 bg-white text-red-600 border border-red-600 py-3 rounded-xl font-medium text-sm">
              문자 보내기
            </button>
          </div>
        </div>
      </div>
      
      <!-- 기기상태 탭 -->
      <div id="device-tab" class="tab-pane hidden">
        <!-- 기기 연결 상태 카드 -->
        <div class="card-with-shadow p-5 mb-4">
          <h2 class="text-base font-bold text-[#0e151b] mb-4">연결된 기기</h2>
          
          <!-- 스마트워치 -->
          <div class="flex justify-between items-center p-3 bg-[#f8fafb] rounded-xl mb-3">
            <div class="flex items-center">
              <div class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center mr-3">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-[#2c90e2]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
              </div>
              <div>
                <p class="text-sm font-medium text-[#0e151b]">HEART Watch Pro</p>
                <div class="flex items-center">
                  <span class="w-2 h-2 rounded-full bg-green-500 mr-1"></span>
                  <p class="text-xs text-[#507695]">연결됨</p>
                </div>
              </div>
            </div>
            <div class="text-right">
              <p class="text-lg font-medium text-[#0e151b]">68%</p>
              <p class="text-xs text-[#507695]">배터리</p>
            </div>
          </div>
          
          <!-- 스마트폰 -->
          <div class="flex justify-between items-center p-3 bg-[#f8fafb] rounded-xl mb-4">
            <div class="flex items-center">
              <div class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center mr-3">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-[#2c90e2]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z" />
                </svg>
              </div>
              <div>
                <p class="text-sm font-medium text-[#0e151b]">스마트폰</p>
                <div class="flex items-center">
                  <span class="w-2 h-2 rounded-full bg-green-500 mr-1"></span>
                  <p class="text-xs text-[#507695]">연결됨</p>
                </div>
              </div>
            </div>
            <div class="text-right">
              <p class="text-lg font-medium text-[#0e151b]">42%</p>
              <p class="text-xs text-[#507695]">배터리</p>
            </div>
          </div>
          
          <!-- 상태 정보 -->
          <div class="grid grid-cols-2 gap-3 mb-3">
            <div class="bg-[#f8fafb] p-3 rounded-xl text-center">
              <div class="text-sm font-bold text-[#0e151b]">2023.04.03</div>
              <div class="text-xs text-[#507695]">마지막 동기화</div>
            </div>
            <div class="bg-[#f8fafb] p-3 rounded-xl text-center">
              <div class="text-sm font-bold text-[#0e151b]">14:05:32</div>
              <div class="text-xs text-[#507695]">현재 시간</div>
            </div>
          </div>
          
          <!-- 측정 상태 -->
          <h3 class="text-sm font-medium text-[#0e151b] mb-2">데이터 측정 상태</h3>
          <div class="space-y-2 mb-4">
            <div class="flex justify-between">
              <span class="text-xs text-[#507695]">ECG 측정</span>
              <div class="flex items-center">
                <span class="w-2 h-2 rounded-full bg-green-500 mr-1"></span>
                <span class="text-xs text-green-600">정상</span>
              </div>
            </div>
            <div class="flex justify-between">
              <span class="text-xs text-[#507695]">산소포화도 측정</span>
              <div class="flex items-center">
                <span class="w-2 h-2 rounded-full bg-green-500 mr-1"></span>
                <span class="text-xs text-green-600">정상</span>
              </div>
            </div>
            <div class="flex justify-between">
              <span class="text-xs text-[#507695]">체온 측정</span>
              <div class="flex items-center">
                <span class="w-2 h-2 rounded-full bg-green-500 mr-1"></span>
                <span class="text-xs text-green-600">정상</span>
              </div>
            </div>
            <div class="flex justify-between">
              <span class="text-xs text-[#507695]">활동량 측정</span>
              <div class="flex items-center">
                <span class="w-2 h-2 rounded-full bg-yellow-500 mr-1"></span>
                <span class="text-xs text-yellow-600">주의</span>
              </div>
            </div>
          </div>
          
          <!-- 동기화 버튼 -->
          <button class="w-full primary-button flex items-center justify-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
            </svg>
            수동 동기화
          </button>
        </div>
      </div>
      
      <!-- 위치 탭 -->
      <div id="location-tab" class="tab-pane hidden">
        <!-- 위치 정보 카드 -->
        <div class="card-with-shadow p-5 mb-4">
          <div class="flex justify-between items-center mb-4">
            <h2 class="text-base font-bold text-[#0e151b]">현재 위치</h2>
            <span class="badge badge-blue">2분 전 업데이트</span>
          </div>
          
          <!-- 지도 -->
          <div id="map" class="mb-3"></div>
          
          <!-- 주소 정보 -->
          <div class="bg-[#f8fafb] p-3 rounded-xl mb-4">
            <p class="text-sm text-[#0e151b]">서울특별시 강남구 테헤란로 152</p>
            <p class="text-xs text-[#507695]">강남파이낸스센터 근처</p>
          </div>
          
          <!-- 위치 정보 -->
          <div class="grid grid-cols-2 gap-3 mb-4">
            <div class="bg-[#f8fafb] p-3 rounded-xl">
              <div class="text-xs text-[#507695] mb-1">위도</div>
              <div class="text-sm font-medium text-[#0e151b]">37.5004</div>
            </div>
            <div class="bg-[#f8fafb] p-3 rounded-xl">
              <div class="text-xs text-[#507695] mb-1">경도</div>
              <div class="text-sm font-medium text-[#0e151b]">127.0366</div>
            </div>
            <div class="bg-[#f8fafb] p-3 rounded-xl">
              <div class="text-xs text-[#507695] mb-1">정확도</div>
              <div class="text-sm font-medium text-[#0e151b]">5m</div>
            </div>
            <div class="bg-[#f8fafb] p-3 rounded-xl">
              <div class="text-xs text-[#507695] mb-1">활동</div>
              <div class="text-sm font-medium text-[#0e151b]">정지</div>
            </div>
          </div>
          
          <!-- 버튼 -->
          <div class="flex gap-3">
            <button class="primary-button flex-1 flex items-center justify-center">
              <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
              </svg>
              길 안내
            </button>
            <button class="flex-1 border border-[#2c90e2] text-[#2c90e2] rounded-xl font-medium text-sm flex items-center justify-center">
              <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
              </svg>
              새로고침
            </button>
          </div>
        </div>
        
        <!-- 주변 의료기관 -->
        <div class="card-with-shadow p-5 mb-4">
          <h2 class="text-base font-bold text-[#0e151b] mb-4">주변 의료기관</h2>
          
          <div class="space-y-3">
            <!-- 병원 1 -->
            <div class="flex justify-between items-center p-3 bg-[#f8fafb] rounded-xl">
              <div class="flex items-center">
                <div class="w-10 h-10 rounded-full bg-red-100 flex items-center justify-center mr-3">
                  <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
                  </svg>
                </div>
                <div>
                  <p class="text-sm font-medium text-[#0e151b]">강남세브란스병원</p>
                  <p class="text-xs text-[#507695]">심장전문 지정병원</p>
                </div>
              </div>
              <div class="text-right">
                <p class="text-sm font-medium text-[#0e151b]">1.2km</p>
                <p class="text-xs text-green-600">5분</p>
              </div>
            </div>
            
            <!-- 병원 2 -->
            <div class="flex justify-between items-center p-3 bg-[#f8fafb] rounded-xl">
              <div class="flex items-center">
                <div class="w-10 h-10 rounded-full bg-red-100 flex items-center justify-center mr-3">
                  <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
                  </svg>
                </div>
                <div>
                  <p class="text-sm font-medium text-[#0e151b]">강남성심병원</p>
                  <p class="text-xs text-[#507695]">응급실 운영</p>
                </div>
              </div>
              <div class="text-right">
                <p class="text-sm font-medium text-[#0e151b]">2.5km</p>
                <p class="text-xs text-green-600">8분</p>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- 기록 탭 -->
      <div id="history-tab" class="tab-pane hidden">
        <!-- 일일 기록 -->
        <div class="card-with-shadow p-5 mb-4">
          <div class="flex justify-between items-center mb-4">
            <h2 class="text-base font-bold text-[#0e151b]">일일 기록</h2>
            <button class="text-xs text-[#2c90e2] font-medium">전체보기</button>
          </div>
          
          <!-- 타임라인 -->
          <div class="space-y-4">
            <!-- 알림 1 -->
            <div class="flex">
              <div class="flex flex-col items-center mr-3">
                <span class="text-xs text-[#507695]">14:00</span>
                <div class="w-1 h-10 bg-red-200 rounded-full my-1"></div>
              </div>
              <div class="bg-red-50 p-3 rounded-xl flex-1">
                <div class="flex items-center mb-1">
                  <span class="badge badge-red mr-2">위험</span>
                  <p class="text-sm font-medium text-red-700">위험도 72% 감지됨</p>
                </div>
                <p class="text-xs text-red-600">ST 분절 상승, 심박수 증가, 혈압 상승</p>
              </div>
            </div>
            
            <!-- 알림 2 -->
            <div class="flex">
              <div class="flex flex-col items-center mr-3">
                <span class="text-xs text-[#507695]">12:30</span>
                <div class="w-1 h-10 bg-yellow-200 rounded-full my-1"></div>
              </div>
              <div class="bg-yellow-50 p-3 rounded-xl flex-1">
                <div class="flex items-center mb-1">
                  <span class="badge badge-yellow mr-2">주의</span>
                  <p class="text-sm font-medium text-yellow-700">위험도 45% 감지됨</p>
                </div>
                <p class="text-xs text-yellow-600">심박수 증가, 활동량 감소</p>
              </div>
            </div>
            
            <!-- 알림 3 -->
            <div class="flex">
              <div class="flex flex-col items-center mr-3">
                <span class="text-xs text-[#507695]">10:15</span>
                <div class="w-1 h-10 bg-green-200 rounded-full my-1"></div>
              </div>
              <div class="bg-green-50 p-3 rounded-xl flex-1">
                <div class="flex items-center mb-1">
                  <span class="badge badge-green mr-2">정상</span>
                  <p class="text-sm font-medium text-green-700">위험도 15% 확인됨</p>
                </div>
                <p class="text-xs text-green-600">모든 생체 지표 정상 범위</p>
              </div>
            </div>
          </div>
        </div>
        
        <!-- 위험도 변화 그래프 -->
        <div class="card-with-shadow p-5 mb-4">
          <div class="flex justify-between items-center mb-4">
            <h2 class="text-base font-bold text-[#0e151b]">위험도 변화</h2>
            <div class="flex gap-2">
              <button class="text-xs text-[#2c90e2] font-medium bg-blue-50 px-2 py-1 rounded-md">일간</button>
              <button class="text-xs text-[#507695] font-medium">주간</button>
              <button class="text-xs text-[#507695] font-medium">월간</button>
            </div>
          </div>
          
          <!-- 그래프 영역 -->
          <div class="bg-[#f8fafb] rounded-xl p-3 mb-3">
            <div class="h-40 w-full relative">
              <!-- 그래프 이미지 (실제로는 Chart.js 등으로 구현) -->
              <svg width="100%" height="100%" viewBox="0 0 400 150" preserveAspectRatio="none">
                <!-- 배경 그리드 -->
                <line x1="0" y1="30" x2="400" y2="30" stroke="#e5e7eb" stroke-width="1" />
                <line x1="0" y1="60" x2="400" y2="60" stroke="#e5e7eb" stroke-width="1" />
                <line x1="0" y1="90" x2="400" y2="90" stroke="#e5e7eb" stroke-width="1" />
                <line x1="0" y1="120" x2="400" y2="120" stroke="#e5e7eb" stroke-width="1" />
                
                <!-- 위험도 경계선 -->
                <line x1="0" y1="45" x2="400" y2="45" stroke="#10b981" stroke-width="1" stroke-dasharray="4" />
                <line x1="0" y1="75" x2="400" y2="75" stroke="#f59e0b" stroke-width="1" stroke-dasharray="4" />
                <line x1="0" y1="30" x2="400" y2="30" stroke="#ef4444" stroke-width="1" stroke-dasharray="4" />
                
                <!-- 위험도 그래프 -->
                <path 
                  d="M0,120 C20,118 40,115 60,110 S90,100 120,105 S150,110 180,90 S210,70 240,45 S270,38 300,25 S330,15 360,20 S390,25 400,28"
                  fill="none" 
                  stroke="#2c90e2" 
                  stroke-width="2"
                />
                
                <!-- 현재 지점 -->
                <circle cx="360" cy="20" r="4" fill="#ef4444" />
              </svg>
              
              <!-- 그래프 레이블 -->
              <div class="absolute top-0 right-0 flex items-center text-xs text-red-600">
                <span class="w-2 h-2 rounded-full bg-red-600 mr-1"></span>
                72%
              </div>
            </div>
            
            <!-- 시간대 -->
            <div class="flex justify-between text-xs text-[#507695] mt-2">
              <span>06:00</span>
              <span>09:00</span>
              <span>12:00</span>
              <span>15:00</span>
              <span>18:00</span>
            </div>
          </div>
          
          <!-- 통계 정보 -->
          <div class="grid grid-cols-3 gap-3">
            <div class="bg-[#f8fafb] p-3 rounded-xl text-center">
              <div class="text-lg font-bold text-red-600">72%</div>
              <div class="text-xs text-[#507695]">최고 위험도</div>
            </div>
            <div class="bg-[#f8fafb] p-3 rounded-xl text-center">
              <div class="text-lg font-bold text-[#0e151b]">15%</div>
              <div class="text-xs text-[#507695]">최저 위험도</div>
            </div>
            <div class="bg-[#f8fafb] p-3 rounded-xl text-center">
              <div class="text-lg font-bold text-[#0e151b]">35%</div>
              <div class="text-xs text-[#507695]">평균 위험도</div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- 응급상황 탭 -->
      <div id="emergency-tab" class="tab-pane hidden">
        <!-- 응급 대응 지침 -->
        <div class="card-with-shadow p-5 mb-4 bg-red-50 border border-red-200">
          <div class="flex items-center mb-4">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 text-red-600 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
            </svg>
            <h2 class="text-base font-bold text-red-600">현재 응급 상황이 감지됨</h2>
          </div>
          
          <p class="text-sm text-red-600 mb-3">대상자에게 즉시 연락하여 상태를 확인하고, 응답이 없거나 상태가 심각한 경우 아래의 조치를 취하세요:</p>
          
          <!-- 단계별 대응 지침 -->
          <ol class="space-y-3 mb-4">
            <li class="flex">
              <div class="w-6 h-6 rounded-full bg-red-100 flex items-center justify-center mr-2 flex-shrink-0 mt-0.5">
                <span class="text-red-600 text-xs font-bold">1</span>
              </div>
              <div>
                <p class="text-sm font-medium text-red-700">대상자에게 즉시 전화</p>
                <p class="text-xs text-red-600">상태를 확인하고 침착하게 대화하세요.</p>
              </div>
            </li>
            <li class="flex">
              <div class="w-6 h-6 rounded-full bg-red-100 flex items-center justify-center mr-2 flex-shrink-0 mt-0.5">
                <span class="text-red-600 text-xs font-bold">2</span>
              </div>
              <div>
                <p class="text-sm font-medium text-red-700">응급 서비스(119) 호출</p>
                <p class="text-xs text-red-600">대상자의 위치, 증상, 나이, 기저질환을 알려주세요.</p>
              </div>
            </li>
            <li class="flex">
              <div class="w-6 h-6 rounded-full bg-red-100 flex items-center justify-center mr-2 flex-shrink-0 mt-0.5">
                <span class="text-red-600 text-xs font-bold">3</span>
              </div>
              <div>
                <p class="text-sm font-medium text-red-700">대상자 위치로 이동</p>
                <p class="text-xs text-red-600">가능하다면 직접 찾아가 응급 요원이 도착할 때까지 대기하세요.</p>
              </div>
            </li>
          </ol>
          
          <!-- 버튼 -->
          <div class="flex gap-3 mb-3">
            <button class="flex-1 bg-red-600 text-white py-3 rounded-xl font-medium text-sm flex items-center justify-center">
              <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
              </svg>
              119 전화
            </button>
            <button class="flex-1 bg-white text-red-600 border border-red-600 py-3 rounded-xl font-medium text-sm flex items-center justify-center">
              <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
              </svg>
              대상자 통화
            </button>
          </div>
          
          <a href="#" class="block w-full text-center text-xs text-red-600 underline">응급 상황이 아닙니다</a>
        </div>
        
        <!-- 응급 연락처 -->
        <div class="card-with-shadow p-5 mb-4">
          <h2 class="text-base font-bold text-[#0e151b] mb-4">응급 연락처</h2>
          
          <div class="space-y-3 mb-4">
            <!-- 본인 -->
            <div class="flex justify-between items-center p-3 bg-[#f8fafb] rounded-xl">
              <div class="flex items-center">
                <div class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center mr-3">
                  <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-[#2c90e2]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                  </svg>
                </div>
                <div>
                  <p class="text-sm font-medium text-[#0e151b]">이서연 (본인)</p>
                  <p class="text-xs text-[#507695]">010-1234-5678</p>
                </div>
              </div>
              <button class="w-10 h-10 rounded-full bg-[#2c90e2] flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                </svg>
              </button>
            </div>
            
            <!-- 배우자 -->
            <div class="flex justify-between items-center p-3 bg-[#f8fafb] rounded-xl">
              <div class="flex items-center">
                <div class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center mr-3">
                  <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-[#2c90e2]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                  </svg>
                </div>
                <div>
                  <p class="text-sm font-medium text-[#0e151b]">김철수 (배우자)</p>
                  <p class="text-xs text-[#507695]">010-9876-5432</p>
                </div>
              </div>
              <button class="w-10 h-10 rounded-full bg-[#2c90e2] flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                </svg>
              </button>
            </div>
            
            <!-- 119 -->
            <div class="flex justify-between items-center p-3 bg-red-50 rounded-xl">
              <div class="flex items-center">
                <div class="w-10 h-10 rounded-full bg-red-100 flex items-center justify-center mr-3">
                  <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636" />
                  </svg>
                </div>
                <div>
                  <p class="text-sm font-medium text-red-700">응급 구조대</p>
                  <p class="text-xs text-red-600">119</p>
                </div>
              </div>
              <button class="w-10 h-10 rounded-full bg-red-600 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                </svg>
              </button>
            </div>
          </div>
          
          <!-- 심장질환 정보 -->
          <div class="bg-[#f8fafb] p-4 rounded-xl mb-4">
            <h3 class="text-sm font-medium text-[#0e151b] mb-2">심장 질환 정보</h3>
            <div class="space-y-2 text-xs text-[#507695]">
              <div class="flex">
                <span class="font-medium w-24">혈액형:</span>
                <span>A+</span>
              </div>
              <div class="flex">
                <span class="font-medium w-24">알레르기:</span>
                <span>페니실린, 조개류</span>
              </div>
              <div class="flex">
                <span class="font-medium w-24">복용 약물:</span>
                <span>아스피린, 리피토, 노르바스크</span>
              </div>
              <div class="flex">
                <span class="font-medium w-24">병력:</span>
                <span>고혈압, 고지혈증</span>
              </div>
              <div class="flex">
                <span class="font-medium w-24">담당의:</span>
                <span>김인술 교수 (강남세브란스)</span>
              </div>
            </div>
          </div>
          
          <!-- 병원 연락처 -->
          <div class="flex justify-between items-center p-3 bg-[#f8fafb] rounded-xl">
            <div class="flex items-center">
              <div class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center mr-3">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-[#2c90e2]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
                </svg>
              </div>
              <div>
                <p class="text-sm font-medium text-[#0e151b]">강남세브란스병원</p>
                <p class="text-xs text-[#507695]">심장내과 02-1234-5678</p>
              </div>
            </div>
            <button class="w-10 h-10 rounded-full bg-[#2c90e2] flex items-center justify-center">
              <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
              </svg>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 의학 용어 설명 모달 -->
  <div id="medical-term-modal" class="fixed inset-0 flex items-center justify-center z-50 hidden">
    <div class="modal-overlay absolute inset-0 bg-gray-900 opacity-50"></div>
    <div class="modal-container bg-white w-11/12 md:max-w-md mx-auto rounded-xl shadow-lg z-50 overflow-y-auto">
      <div class="modal-content p-5">
        <div class="flex justify-between items-center mb-4">
          <h3 class="text-base font-bold text-[#0e151b]" id="modal-term-title">의학 용어</h3>
          <button id="close-modal" class="text-[#507695] hover:text-[#0e151b]">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
            </svg>
          </button>
        </div>
        <div id="modal-term-content" class="text-sm text-[#0e151b]">
          <!-- 용어 설명이 여기에 들어갑니다 -->
        </div>
        
        <!-- 관련 용어 -->
        <div class="mt-4">
          <h4 class="text-sm font-medium text-[#0e151b] mb-2">관련 용어</h4>
          <div class="flex flex-wrap gap-2" id="related-terms">
            <!-- 관련 용어들이 여기에 추가됩니다 -->
          </div>
        </div>
        
        <!-- 의학 정보 출처 -->
        <div class="mt-4 pt-3 border-t border-gray-200">
          <p class="text-xs text-[#507695]">출처: 대한심장학회 의학용어집</p>
        </div>
      </div>
    </div>
  </div>

  <!-- 필요한 스크립트 -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // 탭 전환 기능
      const tabButtons = document.querySelectorAll('.tab-button');
      const tabPanes = document.querySelectorAll('.tab-pane');
      
      tabButtons.forEach(button => {
        button.addEventListener('click', function() {
          const tabId = this.getAttribute('data-tab');
          
          // 모든 탭 버튼에서 active 클래스 제거
          tabButtons.forEach(btn => {
            btn.classList.remove('active');
          });
          
          // 모든 탭 콘텐츠 숨기기
          tabPanes.forEach(pane => {
            pane.classList.add('hidden');
          });
          
          // 선택된 탭 버튼에 active 클래스 추가
          this.classList.add('active');
          
          // 선택된 탭 콘텐츠 표시
          document.getElementById(`${tabId}-tab`).classList.remove('hidden');
        });
      });
      
      // 의학 용어 모달
      function setupMedicalTerms() {
        // 의학 용어 데이터
        const medicalTerms = {
          'ST 분절': {
            definition: 'ECG에서 QRS 복합체와 T파 사이의 구간으로, 심근 경색이나 허혈시 상승 또는 하강 패턴을 보여 심장 질환을 진단하는 중요한 지표입니다.',
            related: ['QRS 복합체', 'T파', '심근경색', '심전도']
          },
          'QRS 복합체': {
            definition: '심장의 심실이 수축할 때 생성되는 전기적 신호로, ECG의 가장 두드러진 부분입니다. QRS 복합체의 폭과 높이는 심장 전도 시스템의 건강 상태를 나타냅니다.',
            related: ['ST 분절', 'P파', 'T파', '심전도']
          },
          'T파': {
            definition: '심실의 재분극(이완)을 나타내는 ECG 파형입니다. T파의 모양, 크기, 방향의 변화는 심장 질환을 시사할 수 있습니다.',
            related: ['ST 분절', 'QRS 복합체', '심전도']
          },
          '심근경색': {
            definition: '심장 근육(심근)에 혈액 공급이 차단되어 심장 조직이 손상되는 상태입니다. 흔히 심장마비라고 불리며, 응급 치료가 필요한 심각한 상태입니다.',
            related: ['협심증', '관상동맥질환', 'ST 분절 상승']
          },
          '심박변이도': {
            definition: '연속적인 심박 간의 변동을 측정한 값으로, 자율신경계의 균형과 심장 건강을 반영합니다. 낮은 심박변이도는 여러 심혈관 질환의 위험과 관련이 있습니다.',
            related: ['자율신경계', '심박수', '스트레스']
          },
          '심전도': {
            definition: '심장의 전기적 활동을 기록한 그래프로, 심장 리듬 이상이나 심장 손상을 진단하는 기본적인 검사입니다.',
            related: ['ST 분절', 'QRS 복합체', 'T파', 'P파']
          },
          '협심증': {
            definition: '심장 근육에 충분한 산소가 공급되지 않아 가슴 통증이 발생하는 상태입니다. 주로 관상동맥 질환으로 인해 발생합니다.',
            related: ['심근경색', '관상동맥질환', '흉통']
          },
          '심방세동': {
            definition: '불규칙한 심장 박동을 특징으로 하는 부정맥의 일종입니다. 심방이 비정상적으로 빠르게 수축하여 혈전과 뇌졸중 위험이 증가합니다.',
            related: ['부정맥', '뇌졸중', '혈전']
          }
        };
        
        // 모달 요소
        const modal = document.getElementById('medical-term-modal');
        const modalTitle = document.getElementById('modal-term-title');
        const modalContent = document.getElementById('modal-term-content');
        const relatedTerms = document.getElementById('related-terms');
        const closeModal = document.getElementById('close-modal');
        
        // 모달 닫기 이벤트
        closeModal.addEventListener('click', () => {
          modal.classList.add('hidden');
        });
        
        // 모달 외부 클릭 시 닫기
        window.addEventListener('click', (e) => {
          if (e.target === modal) {
            modal.classList.add('hidden');
          }
        });
        
        // 관련 용어 클릭 이벤트
        function setupRelatedTermClick() {
          const terms = document.querySelectorAll('#related-terms .medical-term');
          terms.forEach(term => {
            term.addEventListener('click', () => {
              const termText = term.textContent;
              showMedicalTerm(termText);
            });
          });
        }
        
        // 용어 정보 표시
        function showMedicalTerm(term) {
          if (medicalTerms[term]) {
            modalTitle.textContent = term;
            modalContent.textContent = medicalTerms[term].definition;
            
            // 관련 용어 추가
            relatedTerms.innerHTML = '';
            medicalTerms[term].related.forEach(relatedTerm => {
              const termSpan = document.createElement('span');
              termSpan.className = 'medical-term bg-blue-50 text-[#2c90e2] text-xs px-2 py-1 rounded-md cursor-pointer';
              termSpan.textContent = relatedTerm;
              relatedTerms.appendChild(termSpan);
            });
            
            // 관련 용어 클릭 이벤트 설정
            setupRelatedTermClick();
            
            // 모달 표시
            modal.classList.remove('hidden');
          }
        }
        
        // 페이지 내 의학 용어에 클릭 이벤트 추가
        function setupMedicalTermLinks() {
          // 의학 용어 하이라이트
          const contentElements = document.querySelectorAll('.card-content p, .tab-pane p, .analysis-result');
          
          contentElements.forEach(element => {
            let html = element.innerHTML;
            
            // 용어 사전에 있는 용어를 찾아 하이라이트
            Object.keys(medicalTerms).forEach(term => {
              const regex = new RegExp(`(${term})`, 'g');
              html = html.replace(regex, '<span class="medical-term text-[#2c90e2] cursor-pointer border-b border-dotted border-[#2c90e2]">$1</span>');
            });
            
            element.innerHTML = html;
          });
          
          // 하이라이트된 용어에 클릭 이벤트 추가
          const medicalTermElements = document.querySelectorAll('.medical-term');
          medicalTermElements.forEach(element => {
            element.addEventListener('click', () => {
              const term = element.textContent;
              showMedicalTerm(term);
            });
          });
        }
        
        // 초기화
        setupMedicalTermLinks();
      }
      
      // 초기화 함수 호출
      setupMedicalTerms();
      
      // 지도 초기화
      function initMap() {
        // 대상자 위치 좌표
        const userLocation = { lat: 37.5004, lng: 127.0366 };
        
        // 지도 생성
        const map = new google.maps.Map(document.getElementById("map"), {
          center: userLocation,
          zoom: 15,
          mapTypeControl: false,
          streetViewControl: false,
          fullscreenControl: false
        });
        
        // 마커 생성
        const marker = new google.maps.Marker({
          position: userLocation,
          map: map,
          title: "대상자 위치",
          animation: google.maps.Animation.DROP
        });
        
        // 정보창 추가
        const infoWindow = new google.maps.InfoWindow({
          content: "<div style='font-size: 12px; padding: 5px;'><b>이서연</b><br>마지막 위치 갱신: 2분 전</div>"
        });
        
        // 마커 클릭 시 정보창 표시
        marker.addListener("click", () => {
          infoWindow.open(map, marker);
        });
      }
      
      // 이 함수는 Google Maps API가 로드될 때 자동으로 호출됩니다.
      window.initMap = initMap;
    });
  </script>
</body>
</html> 